# Generated by Django 5.2.6 on 2025-10-16 07:57

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('query_lab', '0001_initial'),
    ]

    operations = [
        migrations.RemoveField(
            model_name='slowquery',
            name='problem_pattern',
        ),
        migrations.AddField(
            model_name='slowquery',
            name='actual_improvement',
            field=models.FloatField(blank=True, null=True, verbose_name='–§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ (%)'),
        ),
        migrations.AddField(
            model_name='slowquery',
            name='after_duration_ms',
            field=models.FloatField(blank=True, null=True, verbose_name='–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ (–º—Å)'),
        ),
        migrations.AddField(
            model_name='slowquery',
            name='analysis_started_at',
            field=models.DateTimeField(blank=True, null=True, verbose_name='–ù–∞—á–∞–ª–æ –∞–Ω–∞–ª–∏–∑–∞'),
        ),
        migrations.AddField(
            model_name='slowquery',
            name='before_duration_ms',
            field=models.FloatField(blank=True, null=True, verbose_name='–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–æ (–º—Å)'),
        ),
        migrations.AddField(
            model_name='slowquery',
            name='optimization_notes',
            field=models.TextField(blank=True, verbose_name='–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏'),
        ),
        migrations.AddField(
            model_name='slowquery',
            name='optimized_at',
            field=models.DateTimeField(blank=True, null=True, verbose_name='–í—Ä–µ–º—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏'),
        ),
        migrations.AddField(
            model_name='slowquery',
            name='problem_category',
            field=models.CharField(blank=True, choices=[('full_scan', 'üìä –ü–æ–ª–Ω–æ—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã'), ('missing_index', 'üìà –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω–¥–µ–∫—Å–∞'), ('cross_join', '‚ùå CROSS JOIN'), ('subquery', 'üîÑ –ù–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥–∑–∞–ø—Ä–æ—Å'), ('large_result', 'üíæ –ë–æ–ª—å—à–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç'), ('memory_usage', 'üß† –í—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏'), ('network', 'üåê –°–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã'), ('configuration', '‚öôÔ∏è –ü—Ä–æ–±–ª–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏'), ('other', '‚ùì –î—Ä—É–≥–æ–µ')], max_length=20, verbose_name='–ö–∞—Ç–µ–≥–æ—Ä–∏—è –ø—Ä–æ–±–ª–µ–º—ã'),
        ),
        migrations.AddField(
            model_name='slowquery',
            name='tags',
            field=models.CharField(blank=True, help_text='–ß–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é', max_length=500, verbose_name='–¢–µ–≥–∏'),
        ),
        migrations.AlterField(
            model_name='slowquery',
            name='status',
            field=models.CharField(choices=[('new', 'üÜï –ù–æ–≤—ã–π'), ('in_analysis', 'üîç –í –∞–Ω–∞–ª–∏–∑–µ'), ('waiting_feedback', '‚è≥ –û–∂–∏–¥–∞–µ—Ç —Ñ–∏–¥–±–µ–∫–∞'), ('optimized', '‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω'), ('ignored', '‚ùå –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω'), ('cannot_optimize', 'üö´ –ù–µ –ø–æ–¥–ª–µ–∂–∏—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏')], db_index=True, default='new', max_length=20, verbose_name='–°—Ç–∞—Ç—É—Å'),
        ),
    ]
